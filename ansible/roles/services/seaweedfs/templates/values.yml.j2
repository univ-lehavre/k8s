# SeaweedFS Helm Values
# Generated by Ansible

global:
  replicationPlacment: "{{ seaweedfs_replication }}"
  enableSecurity: false

master:
  enabled: true
  replicas: {{ seaweedfs_master_replicas }}

  resources:
    requests:
      cpu: {{ seaweedfs_master_resources.requests.cpu }}
      memory: {{ seaweedfs_master_resources.requests.memory }}
    limits:
      cpu: {{ seaweedfs_master_resources.limits.cpu }}
      memory: {{ seaweedfs_master_resources.limits.memory }}

  data:
    type: persistentVolumeClaim
    storageClass: {{ seaweedfs_storage_class }}
    size: {{ seaweedfs_master_storage_size }}

volume:
  enabled: true
  replicas: {{ seaweedfs_volume_replicas }}

  resources:
    requests:
      cpu: {{ seaweedfs_volume_resources.requests.cpu }}
      memory: {{ seaweedfs_volume_resources.requests.memory }}
    limits:
      cpu: {{ seaweedfs_volume_resources.limits.cpu }}
      memory: {{ seaweedfs_volume_resources.limits.memory }}

  dataDirs:
    - name: data
      type: persistentVolumeClaim
      storageClass: {{ seaweedfs_storage_class }}
      size: {{ seaweedfs_volume_storage_size }}
      maxVolumes: 0

filer:
  enabled: true
  replicas: {{ seaweedfs_filer_replicas }}

  resources:
    requests:
      cpu: {{ seaweedfs_filer_resources.requests.cpu }}
      memory: {{ seaweedfs_filer_resources.requests.memory }}
    limits:
      cpu: {{ seaweedfs_filer_resources.limits.cpu }}
      memory: {{ seaweedfs_filer_resources.limits.memory }}

  s3:
    enabled: {{ seaweedfs_s3_enabled | lower }}
    port: 8333
    allowEmptyFolder: true
    enableAuth: true
    existingConfigSecret: seaweedfs-s3-credentials

  data:
    type: persistentVolumeClaim
    storageClass: {{ seaweedfs_storage_class }}
    size: 5Gi

s3:
  enabled: {{ seaweedfs_s3_enabled | lower }}
