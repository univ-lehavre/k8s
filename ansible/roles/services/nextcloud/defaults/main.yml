---
# Nextcloud defaults

# Namespace
nextcloud_namespace: nextcloud

# Helm chart settings
nextcloud_chart_repo: https://nextcloud.github.io/helm/
nextcloud_chart_repo_name: nextcloud

# Resources
nextcloud_resources:
  requests:
    cpu: 200m
    memory: 512Mi
  limits:
    cpu: 1000m
    memory: 1Gi

# Storage
nextcloud_storage_class: "{{ storage_class }}"
nextcloud_storage_size: 50Gi

# Database settings
nextcloud_postgresql_host: "postgresql.postgresql.svc.cluster.local"
nextcloud_postgresql_port: 5432
nextcloud_postgresql_database: "{{ database_config.nextcloud.database }}"
nextcloud_postgresql_user: "{{ database_config.nextcloud.user }}"

# Redis settings
nextcloud_redis_host: "redis-master.redis.svc.cluster.local"
nextcloud_redis_port: 6379

# Secrets from CI/CD
nextcloud_admin_password: "{{ secrets.nextcloud.admin_password | default(omit) }}"

# Admin user
nextcloud_admin_user: admin

# Ingress settings
nextcloud_ingress_enabled: true
nextcloud_ingress_host: "cloud.{{ domain }}"
nextcloud_ingress_class: cilium
nextcloud_ingress_tls_secret: nextcloud-tls
nextcloud_ingress_issuer: "{{ tls_issuer }}"

# S3 primary storage (SeaweedFS)
nextcloud_s3_enabled: true
nextcloud_s3_bucket: nextcloud
nextcloud_s3_host: seaweedfs-s3.seaweedfs.svc.cluster.local
nextcloud_s3_port: 8333
nextcloud_s3_use_ssl: false
nextcloud_s3_use_path_style: true

# OIDC settings (Authentik)
nextcloud_oidc_enabled: true
nextcloud_oidc_provider_url: "https://auth.{{ domain }}/application/o/nextcloud/"
nextcloud_oidc_client_id: nextcloud

# OnlyOffice integration
nextcloud_onlyoffice_enabled: true
nextcloud_onlyoffice_url: "https://office.{{ domain }}"
