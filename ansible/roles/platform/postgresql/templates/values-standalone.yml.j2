# PostgreSQL Standalone Helm Values
# Generated by Ansible

global:
  postgresql:
    auth:
      username: {{ postgresql_username }}
      database: {{ postgresql_database }}
      existingSecret: postgresql-credentials
      secretKeys:
        adminPasswordKey: postgresql-password

image:
  tag: {{ postgresql_version }}

{% if postgresql_ssl_enabled | default(false) %}
# TLS/SSL Configuration
tls:
  enabled: true
  certificatesSecret: {{ postgresql_ssl_cert_secret }}
  certFilename: tls.crt
  certKeyFilename: tls.key
{% endif %}

primary:
  resources:
    requests:
      cpu: {{ postgresql_resources.requests.cpu }}
      memory: {{ postgresql_resources.requests.memory }}
    limits:
      cpu: {{ postgresql_resources.limits.cpu }}
      memory: {{ postgresql_resources.limits.memory }}

  persistence:
    enabled: true
    storageClass: {{ postgresql_storage_class }}
    size: {{ postgresql_storage_size }}

metrics:
  enabled: {{ postgresql_metrics_enabled | lower }}
  serviceMonitor:
    enabled: {{ postgresql_metrics_enabled | lower }}

# Network policy
networkPolicy:
  enabled: false
