# MariaDB defaults (MariaDB Operator)
# Used by services requiring MySQL compatibility (e.g., REDCap)

# Namespace
mariadb_namespace: mariadb

# Operator settings
mariadb_operator_namespace: mariadb-system

# Cluster settings
mariadb_ha_enabled: "{{ ha_enabled | default(false) }}"

# Storage
mariadb_storage_class: "{{ storage_class }}"
mariadb_storage_size: 20Gi

# Resources
mariadb_resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi

# MariaDB settings
mariadb_version: "11.2"
mariadb_database: mariadb
mariadb_username: root

# Secrets from CI/CD
mariadb_root_password: "{{ secrets.mariadb.root_password | default(omit) }}"

# Metrics
mariadb_metrics_enabled: "{{ monitoring_enabled | default(true) }}"

# Backup settings
mariadb_backup_enabled: "{{ env != 'local' }}"
mariadb_backup_schedule: "0 3 * * *"
mariadb_backup_retention_days: 7

# TLS
mariadb_ssl_enabled: "{{ env != 'local' }}"
mariadb_ssl_cert_secret: mariadb-tls
mariadb_ssl_cert_issuer: "{{ tls_issuer }}"

# Service endpoint
mariadb_host: "mariadb.{{ mariadb_namespace }}.svc.cluster.local"
mariadb_port: 3306
