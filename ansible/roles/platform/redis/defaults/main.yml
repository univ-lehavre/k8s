# Redis defaults (Spotahome Redis Operator)

# Operator namespace
redis_operator_namespace: redis-operator

# Instance namespace
redis_namespace: redis

# Cluster settings
redis_replicas: "{{ 3 if ha_enabled | default(false) else 1 }}"
redis_sentinel_replicas: "{{ 3 if ha_enabled | default(false) else 1 }}"

# Storage
redis_storage_class: "{{ storage_class }}"
redis_storage_size: 8Gi

# Resources - Redis
redis_resources:
  requests:
    cpu: 50m
    memory: 64Mi
  limits:
    cpu: 200m
    memory: 128Mi

# Resources - Sentinel
redis_sentinel_resources:
  requests:
    cpu: 25m
    memory: 32Mi
  limits:
    cpu: 100m
    memory: 64Mi

# Secrets from CI/CD
redis_password: "{{ secrets.redis.password | default(omit) }}"

# Connection info (used by dependent services)
redis_host: "rfs-redis.{{ redis_namespace }}.svc.cluster.local"
redis_port: 26379
redis_sentinel_port: 26379

# Metrics
redis_metrics_enabled: "{{ monitoring_enabled | default(true) }}"
